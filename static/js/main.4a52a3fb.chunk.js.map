{"version":3,"sources":["workers/Worker.js","Card.js","workers/WorkerPool.js","config.js","lib/constants.js","App.js","serviceWorker.js","index.js"],"names":["addMethods","methods","module","exports","w","Worker","name","synth","window","speechSynthesis","Card","workerFactory","size","details","utterThis","SpeechSynthesisUtterance","className","types","type","id","onClick","speak","map","key","alt","src","WorkerPool","worker","this","i","poolSize","used","pool","jobs","hasOwnProperty","_method","args","_queueJob","method","Promise","y","n","push","_nextJob","pop","job","shift","then","catch","finally","TYPES","P","require","Pokedex","workers","navigator","hardwareConcurrency","App","useState","pokemon","setPokemon","offset","setOffset","limit","pokemonData","setPokemonData","allPokemon","setAllPokemon","search","setSearch","pokemonByType","setPokemonByType","pokemonByGeneration","setPokemonByGeneration","activeType","setActiveType","activeGen","setActiveGen","useEffect","getPokemon","length","forEach","getPokemonData","slice","getAllPokemon","workerFetch","updatePokemonByType","Array","keys","updatePokemonByGen","list","prevState","includes","query","split","filter","s","index","toLowerCase","gen","indexOf","result","toString","filteredPokemon","a","options","getPokemonsList","results","getPokemonByName","data","loadMore","fetch","getTypeByName","getGenerationByName","names","pokemon_species","Icon","Input","fluid","icon","iconPosition","placeholder","onChange","event","target","value","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","serviceWorker","ready","registration","unregister","error","console","message"],"mappings":"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","file":"static/js/main.4a52a3fb.chunk.js","sourcesContent":["\n\t\t\t\tvar addMethods = require(\"../../node_modules/workerize-loader/dist/rpc-wrapper.js\")\n\t\t\t\tvar methods = [\"fetch\"]\n\t\t\t\tmodule.exports = function() {\n\t\t\t\t\tvar w = new Worker(__webpack_public_path__ + \"061e58ee5301f793355f.worker.js\", { name: \"[hash].worker.js\" })\n\t\t\t\t\taddMethods(w, methods)\n\t\t\t\t\t\n\t\t\t\t\treturn w\n\t\t\t\t}\n\t\t\t","import React from 'react';\nimport { IMG_DETAIL_URL } from './config'\nimport './Card.css'\n\nconst synth = window.speechSynthesis;\n\nfunction Card ({details}) {\n    const utterThis = new SpeechSynthesisUtterance(details.name);\n    return (\n        <div className={`card ${details.types[0].type.name}`}>\n            <div className=\"details\">\n                <div>\n                    <p className=\"id\">{`#${details.id}`}</p>\n                    <p className=\"name\" onClick={() => {synth.speak(utterThis);}}>{details.name}</p>\n                    <div className=\"types\">\n                        {details.types.map((type) => (\n                            <span key={type.type.name} className={`type ${type.type.name}`}>⬤</span>\n                        ))}\n                    </div>\n                </div>\n            </div>\n            {details.id >= 10000 ? null : <img alt={details.name} className=\"img\" src={`${IMG_DETAIL_URL}/${details.id}.png`} />}\n        </div>\n    );\n}\n\nexport default Card;","export default (workerFactory, size) => new WorkerPool(workerFactory, size);\n\nclass WorkerPool {\n  constructor(workerFactory, size) {\n    let worker = (this.workerFactory = workerFactory)();\n    this.poolSize = size || 4;\n    this.used = 1;\n    this.pool = [worker];\n    this.jobs = [];\n    for (let i in worker) if (worker.hasOwnProperty(i) && typeof worker[i]==='function') {\n      this[i] = this._method(i);  // proxy all methods available on the worker\n    }\n  }\n  _method(name) {\n    return (...args) => this._queueJob(name, args);\n  }\n  _queueJob(method, args) {\n    return new Promise((y, n) => {\n      this.jobs.push({ method, args, y, n });\n      this._nextJob();\n    }) \n  }\n  _nextJob() {\n    let worker = this.pool.pop();\n    if (!worker) {\n      if (this.used >= this.poolSize) return;\n      this.used++;\n      worker = this.workerFactory();\n    }\n    const job = this.jobs.shift();\n    if (!job) return;\n    worker[job.method](...job.args).then(job.y).catch(job.n).finally(() => {\n      this.pool.push(worker);\n      this._nextJob();\n    });\n  }\n}","export const IMG_DETAIL_URL = 'https://raw.githubusercontent.com/cotyhamilton/pokemon/master/img/detail';\nexport const IMG_FULL_URL = 'https://raw.githubusercontent.com/cotyhamilton/pokemon/master/img/full';","export const TYPES = [\n    \"normal\",\n    \"fighting\",\n    \"flying\",\n    \"poison\",\n    \"ground\",\n    \"rock\",\n    \"bug\",\n    \"ghost\",\n    \"steel\",\n    \"fire\",\n    \"water\",\n    \"grass\",\n    \"electric\",\n    \"psychic\",\n    \"ice\",\n    \"dragon\",\n    \"dark\",\n    \"fairy\"\n]\n\nexport const GENERATIONS = 8;","import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport Card from './Card';\nimport { Icon, Input } from 'semantic-ui-react';\nimport Worker from 'workerize-loader!./workers/Worker'; // eslint-disable-line import/no-webpack-loader-syntax\nimport WorkerPool from './workers/WorkerPool';\nimport { TYPES, GENERATIONS } from './lib/constants';\n\nconst Pokedex = require('pokeapi-js-wrapper');\nconst P = new Pokedex.Pokedex();\n\nlet workers = WorkerPool(Worker, navigator.hardwareConcurrency > 4 ? navigator.hardwareConcurrency : 4);\n\nfunction App() {\n  const [pokemon, setPokemon] = useState([]);\n  const [offset, setOffset] = useState(0);\n  const [limit] = useState(50);\n  const [pokemonData, setPokemonData] = useState({});\n  const [allPokemon, setAllPokemon] = useState([]);\n  const [search, setSearch] = useState('');\n  const [pokemonByType, setPokemonByType] = useState({});\n  const [pokemonByGeneration, setPokemonByGeneration] = useState({});\n  const [activeType, setActiveType] = useState('');\n  const [activeGen, setActiveGen] = useState('');\n\n  useEffect(() => {\n    getPokemon();\n  }, [offset]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    if (pokemon.length) {\n      pokemon.forEach(pokemon => {\n        getPokemonData(pokemon.name);\n      });\n    }\n    else {\n      if (!search && allPokemon.length) {\n        setPokemon([...allPokemon.slice(0,offset)])\n      }\n    }\n  }, [pokemon]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    getAllPokemon();\n  }, []);\n\n  useEffect(() => {\n    if (allPokemon.length) {\n      allPokemon.map((pokemon) => (\n        workerFetch(pokemon)\n      ));\n    }\n  }, [allPokemon]);\n\n  useEffect(() => {\n    TYPES.forEach((type) => {\n      updatePokemonByType(type);\n    })\n  }, [])\n\n  useEffect(() => {\n    [...Array(GENERATIONS).keys()].forEach((i) => {\n      const gen = i + 1;\n      updatePokemonByGen(gen);\n    });\n  }, [])\n\n  useEffect(() => {\n    if (search === '') {\n      setActiveGen('');\n      setActiveType('');\n      const list = allPokemon.slice(offset, offset + limit);\n      setPokemon((prevState) => ([...list]));\n    }\n    else {\n      if (search.includes(':')) {\n        const query = (search.split(/:| /)).filter((s, index) => (s !== '')).map(s => s.toLowerCase());\n        if (query.length > 1) {\n          if (query.includes('gen')) {\n            const gen = query[query.indexOf('gen') + 1];\n            if (gen >= 1 && gen <= GENERATIONS) {\n              setActiveGen(gen);\n            } else { setActiveGen('') }\n          } else { setActiveGen('') }\n          if (query.includes('type')) {\n            const type = query[query.indexOf('type') + 1];\n            if (TYPES.includes(type)) {\n              setActiveType(type);\n            } else { setActiveType('') }\n          } else { setActiveType('') }\n        } else { setActiveType(''); setActiveGen(''); }\n      }\n      else {\n        setActiveType('');\n        setActiveGen('');\n        const result = allPokemon.filter((pokemon, index) => {\n          return pokemon.name.includes(search.toLowerCase()) || (index + 1).toString().includes(search);\n        });\n        setPokemon([...result]);\n      }\n    }\n  }, [search]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    if (!activeGen && !activeType) {\n      return;\n    }\n    let filteredPokemon = [...allPokemon];\n    if (activeGen) {\n      filteredPokemon = filteredPokemon.filter((pokemon) => {\n        return pokemonByGeneration[activeGen].includes(pokemon.name)\n      })\n    }\n    if (activeType) {\n      filteredPokemon = filteredPokemon.filter((pokemon) => {\n        return pokemonByType[activeType].includes(pokemon.name)\n      })\n    }\n    setPokemon([...filteredPokemon]);\n  }, [activeGen, activeType]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const getPokemon = async () => {\n    if (allPokemon.length > offset + limit) {\n      const list = allPokemon.slice(offset, offset + limit);\n      setPokemon((prevState) => ([...prevState, ...list]));\n    }\n    else {\n      const options = { offset, limit };\n      const list = await P.getPokemonsList(options);\n      setPokemon((prevState) => ([...prevState, ...list.results]));\n    }\n  }\n\n  const getPokemonData = async (pokemon) => {\n    if (!pokemonData.pokemon) {\n      const data = await P.getPokemonByName(pokemon);\n      setPokemonData((prevState) => ({ ...prevState, [data.name]: data }))\n    }\n  }\n\n  const getAllPokemon = async () => {\n    const list = await P.getPokemonsList();\n    setAllPokemon([...list.results]);\n  }\n\n  const loadMore = async () => {\n    await setOffset(offset + limit);\n  }\n\n  const workerFetch = async (pokemon) => {\n    const data = await workers.fetch(pokemon);\n    setPokemonData((prevState) => ({ ...prevState, [data.name]: data }))\n  }\n\n  const handleChange = event => {\n    setSearch(event.target.value);\n  }\n\n  const updatePokemonByType = async (type) => {\n    let list = [];\n    const data = await P.getTypeByName(type);\n    data.pokemon.forEach((pokemon) => {\n      list.push(pokemon.pokemon.name);\n    });\n    setPokemonByType((prevState) => ({...prevState, [type]: list}))\n  }\n\n  const updatePokemonByGen = async (gen) => {\n    const data = await P.getGenerationByName(gen);\n    let names = [];\n    data.pokemon_species.forEach((pokemon) => {\n      names.push(pokemon.name)\n    });\n    setPokemonByGeneration((prevState) => ({...prevState, [gen]: names}))\n  }\n\n  return (\n    <div className=\"App\">\n      <header>\n        <Icon className=\"icon\" name=\"sliders\" size=\"large\" />\n      </header>\n      <div className=\"home\">\n        <h1>Pokédex</h1>\n        <p>Search for Pokémon by name, National Pokédex number, or tags like <code>type:grass gen:5</code></p>\n        <Input\n          fluid\n          icon=\"search\"\n          iconPosition=\"left\"\n          placeholder=\"What Pokémon are you looking for?\"\n          onChange={handleChange}\n        />\n        {pokemon.length ? pokemon.map((pokemon, index) => (\n          !!pokemonData[pokemon.name] ?\n            <Card\n              key={pokemon.name}\n              details={!!pokemonData[pokemon.name] ? pokemonData[pokemon.name] : null}\n            /> : null\n        )) : null}\n      </div>\n      {search === '' ?\n        <div className=\"page-navigation\">\n          <span onClick={loadMore}>more</span>\n        </div>\n        : null}\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'semantic-ui-css/semantic.min.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}